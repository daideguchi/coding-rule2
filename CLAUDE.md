# 📚 Claude Code プロジェクト設定

**最終更新**: 2025 年 06 月 25 日  
**バージョン**: v1.0

---

## 📚 ドキュメント自動更新システム

このプロジェクトでは、開発中に得られた知識を体系的に管理し、既存ドキュメントに反映させるシステムを採用しています。

### 参照すべきドキュメント

作業開始時に必ず以下のドキュメントを確認してください：

- `PROJECT_STATUS.md` - プロジェクト状況・進捗管理
- `.cursor/rules` - Cursor AI 支援ルール
- `README.md` - プロジェクト概要・使用方法
- `Claude-Code-Communication/README.md` - AI 組織システム詳細
- `Claude-Code-Communication/instructions/` - エージェント指示書

### 更新ルール

#### 提案タイミング

以下の状況で、ドキュメント更新を提案してください：

1. **エラーや問題を解決した時**
2. **効率的な実装パターンを発見した時**
3. **新しい API/ライブラリの使用方法を確立した時**
4. **既存ドキュメントの情報が古い/不正確だと判明した時**
5. **設定やルールを変更した時**

#### 更新対象の判定基準

**PROJECT_STATUS.md**

- プロジェクトの進捗状況
- 重要な決定事項
- 技術的制約・課題

**README.md**

- 使用方法の変更
- 新機能の追加
- トラブルシューティング

**troubleshooting.md** （作成予定）

- エラー解決方法
- よくある問題とその対処法

**patterns.md** （作成予定）

- 実装パターンのベストプラクティス
- 設計方針

**dependencies.md** （作成予定）

- 依存関係の管理
- パッケージバージョン情報

### 承認プロセス

#### 即座に更新可能（承認不要）

- タイムスタンプの更新
- 誤字脱字の修正
- 設定値の追記（削除や変更は除く）
- ログファイルへの追記

#### 確認後に更新（ユーザー承認必要）

- 既存内容の変更・削除
- 新しい設計方針の追加
- API 仕様の変更
- 重要な決定事項の記録

### 分割ガイドライン

#### 1 つのファイルが 300 行を超えた場合

自動的に分割を提案します：

**例：README.md → 複数ファイル分割**

```
README.md (概要のみ)
├── docs/setup.md (セットアップ手順)
├── docs/usage.md (使用方法詳細)
├── docs/troubleshooting.md (トラブルシューティング)
└── docs/advanced.md (高度な使用方法)
```

#### 分割提案フォーマット

```
📝 分割提案: [ファイル名] が [行数]行になりました
推奨分割:
- [新ファイル1]: [内容説明]
- [新ファイル2]: [内容説明]
分割を実行しますか？ (yes/no/edit)
```

---

## 🔄 AI 連携ワークフロー

### Cursor 作業者向け

1. **作業開始**: `PROJECT_STATUS.md`で現在の状況確認
2. **作業中**: Cursor Rules に従って開発
3. **作業完了**: `./claude-cursor-sync.sh record`で状況記録

### Claude Code 作業者向け

1. **作業開始**: `./claude-cursor-sync.sh share`で最新状況確認
2. **作業中**: この CLAUDE.md のルールに従って作業
3. **重要な変更**: `PROJECT_STATUS.md`に記録

### 共通ルール

- **日本語優先**: 全てのコミュニケーションを日本語で
- **ユーザー優先**: 機能を勝手に変更しない
- **段階的変更**: 大きな変更は段階的に実施
- **記録重視**: 重要な決定は必ず文書化

---

## 🚨 注意事項

### 禁止事項

- 既存ファイルの削除（ユーザー明示的指示がない限り）
- 重要な設定の無断変更
- ドキュメントの大幅な改変（承認なし）

### 推奨事項

- 小さな改善の積み重ね
- 具体的な例を含む説明
- 実行可能なコマンドの提供
- エラー時の対処法併記

---

## 📋 自動生成テンプレート

### 新機能追加時

```markdown
## [機能名] の追加

**追加日**: [日付]
**対象ファイル**: [ファイル一覧]

### 概要

[機能の概要説明]

### 使用方法

[使用方法とコマンド例]

### 注意事項

[注意すべき点があれば記載]
```

### 問題解決時

```markdown
## [問題名] の解決

**解決日**: [日付]
**影響範囲**: [影響したファイルや機能]

### 問題内容

[問題の詳細説明]

### 解決方法

[解決手順]

### 今後の対策

[再発防止策]
```

---

---

## 📊 プロジェクト進捗状況

### ✅ 完了済み

- [x] セットアップスクリプト `setup-ai-dev.sh` 作成
- [x] 段階的セットアップオプション（A/AB/ABC）実装
- [x] README.md 総合ドキュメント作成
- [x] Cursor Rules 設定（`.cursor/rules`）
- [x] Claude Code 連携スクリプト（`claude-cursor-sync.sh`）
- [x] プロジェクト状況管理統合

### 🔄 進行中

- [ ] ユーザーテスト・フィードバック収集
- [ ] ファイル構成の最適化

### 📋 重要な決定事項

1. **ユーザー優先**: 機能を勝手に変更しない
2. **段階的導入**: A → AB → ABC の選択制
3. **AI 連携**: Cursor と Claude Code の綿密な連携
4. **日本語対応**: 全てのコミュニケーションを日本語で
5. **シンプル構成**: 不要なファイルは削除、機能は統合

---

**このファイルは Claude Code の動作指針です。重要な変更時は必ず更新してください。**
